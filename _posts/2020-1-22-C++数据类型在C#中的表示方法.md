---
title: "C++数据类型在C#中的表示方法及其使用"
author: 胡承
date: 2020-01-22 11:35:3 +0800
CreateTime: 2020-01-22 11:35:3 +0800
categories: C# C++
---

通过C#代码来调用外部程序代码是非常常见的行为，外部程序主要以C语言编译的程序为主。如：windows api,第三方SDK库等。
目前大多数的底层些的程序都是使用C++语言开发并以C的方式导出，供外部调用。所以本次我们主要探讨下C++与C#之间的不解之缘。

<!-- more -->

在调用C++库文件之前，我们首先来了解下两种语言的数据类型对照关系。  

**基础类型对照表：**  

| 类型 | 关键字（C++） | 关键字（C#） | 位数（C++）|位数（C#）| 范围（C++） |范围（C#）| 描述
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :- |
| 布尔型 | bool | bool | 8位，1字节 | 8位，1字节 | 0~255 | 0~255| 无明显差异
| 单字符 | char |  | 8位，1字节 | / | -128 ~ 127 或者 0 ~ 255 | / | --
| 无符合字符 | unsigned char | byte | 8位，1字节 | 8位，1字节 | 0 ~ 255 | 0 ~ 255 | --
| 有符合字符 | signed char | sbyte | 8位，1字节 | -128 ~ 127 | -128 ~ 127 | / | --
| 整型 | signed int/int/long | int/Int32 | 32位，4字节 | 32位，4字节 | -2147483648 ~ 2147483647 | -2147483648 ~ 2147483647| 根据编译器不同，16位编译器int占2字节，32位和64位编译器，占4字节。（C++中，signed int和int是等效的，int默认是有符号的。同样在C#中，int只不过是Int32的内置写法）
| 无符号整型 | unsigned int | uint/UInt32 | 32位，4字节 | 32位，4字节 | 0 ~ 4294967295 | 0 ~ 4294967295| --
| 有符号短整型 | [signed] short int | short/Int16 | 16位，2字节 | 16位，2字节 | -32768 ~ 32767 | -32768 ~ 32767 | --
| 无符号短整型 | unsigned short int | ushort/UInt16 | 16位，2字节 | 16位，2字节 | 0 ~ 65535 | 0 ~ 65535 | --
| 有符号长整型 | long int | long/Int64 | 64位，8字节 | 64位，8字节 | -9223372036854775808 ~ 9223372036854775807 | -9223372036854775808 ~ 9223372036854775807 | --
| 无符号长整型 | unsigned long int | ulong/UInt64 | 64位，8字节 | 64位，8字节 |0 ~ 18446744073709551615 | 0 ~ 18446744073709551615 | --
| 浮点型 | float | float | 32位，4字节 | 32位，4字节 | 0 ~ 18446744073709551615 | -3.40282347E+38f ~ 3.40282347E+38f | --
| 双精度浮点型 | double | double | 64位，8字节 | 64位，8字节 | 0 ~ 18446744073709551615 | -1.7976931348623157E+308 ~ 1.7976931348623157E+308 | --
| 双精度长浮点型 | long double | decimal | 128位，16字节 | / | / | / | --
| 长长整型 | long long | / | 128位，16字节 | / | / | / | --
| 宽字符 | wchar_t | / | 16或32位，2或4字节 | / | / | / | --

**指针类型对照表：**


| 类型 | 关键字（C++） | 关键字（C#） | 描述 |
| :-: | :-: | :-: | :-: |
| 空指针 | void * | IntPtr | 指针可以转换成对应的object类型
| 指针的指针 | void ** | out IntPtr | 
| 引用 | int& | ref int | 
| 地址 | int * | ref int | 
| 数组 | int[] | int[] | 指定数组长度[MarshalAs(UnmanagedType.ByValArray, SizeConst = 4, ArraySubType = System.Runtime.InteropServices.UnmanagedType.SysUInt) ]
| 指针数组 | int* [] | IntPtr[] | 指定数组长度`[MarshalAs(UnmanagedType.ByValArray, SizeConst = 4, ArraySubType = System.Runtime.InteropServices.UnmanagedType.I4)` ]
| 字符串 | char * | string |
| 字符串 | char ** | ref string |
| 字符串 | const char * | string (const string) |
| 字符串 | char[] | string |




总结：此处只是举例，其它数据类型是一样的。如果是传递参数，那么用ref paramter表示



## 实际使用案例